name: PR branch check

on: pull_request

jobs:
    build:
        runs-on: ubuntu-latest
    
    steps:
        - uses: action/checkout@v1

        - name: Cache node modules
          uses: actions/cache@v1
          with:
            path: ~/.npm # npm cache files are stored in `~/.npm` on Linux/macOS
            key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
            restore-keys: |
                ${{ runner.os }}-build-${{ env.cache-name }}-
                ${{ runner.os }}-build-
                ${{ runner.os }}-
        - name: Install Dependencies
          run: npm install
              
        - name: Build
          run: npm build
              
        - name: Unit Test
          run: npm run test:unit
